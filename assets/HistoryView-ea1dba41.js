import{g as D,r as p,o as B,a as o,b as a,c as l,d as y,e,f as i,F as H,h as N,w as d,i as m,j as g,t as u,u as c}from"./index-784db95a.js";import{_ as R,i as $,h as F,c as M,d as T,f as j}from"./_plugin-vue_export-helper-b39f4d71.js";const E={class:"history"},I={class:"page-content"},L={key:0,class:"loading-wrapper"},P={key:2,class:"card-list"},S={class:"card-data"},q={class:"data-item"},z={class:"value"},A={class:"data-item"},G={class:"value"},J={class:"data-item"},K={class:"value"},O={__name:"HistoryView",setup(Q){const k=D(),_=p(!0),n=p(""),v=p([]);async function h(){try{_.value=!0,n.value="",v.value=await $()}catch(r){n.value="数据加载失败，请稍后重试",console.error("获取历史数据失败:",r)}finally{_.value=!1}}function w(r){k.push(`/detail/${r}`)}return B(()=>{h()}),(r,s)=>{const b=o("van-nav-bar"),V=o("van-loading"),x=o("van-empty"),f=o("van-tag"),C=o("van-card");return a(),l("div",E,[y(b,{title:"历史数据"}),e("div",I,[_.value?(a(),l("div",L,[y(V,{type:"spinner",color:"#1989fa"}),s[0]||(s[0]=e("p",null,"加载中...",-1))])):n.value?(a(),i(x,{key:1,image:"error",description:n.value},null,8,["description"])):(a(),l("div",P,[(a(!0),l(H,null,N(v.value,t=>(a(),i(C,{key:t.record_id,desc:c(j)(t.fields.开播日期),title:`直播数据 - ${t.fields.周几}`,onClick:U=>w(t.record_id)},{tags:d(()=>[t.fields.是否为大促?(a(),i(f,{key:0,plain:"",type:"primary"},{default:d(()=>s[1]||(s[1]=[m("大促")])),_:1})):g("",!0),t.fields.是否为节假日?(a(),i(f,{key:1,plain:"",type:"warning"},{default:d(()=>s[2]||(s[2]=[m("节假日")])),_:1})):g("",!0)]),bottom:d(()=>[e("div",S,[e("div",q,[s[3]||(s[3]=e("span",{class:"label"},"成交金额",-1)),e("span",z,u(c(F)(t.fields.直播间成交金额)),1)]),e("div",A,[s[4]||(s[4]=e("span",{class:"label"},"观看人数",-1)),e("span",G,u(c(M)(t.fields.直播间观看人数)),1)]),e("div",J,[s[5]||(s[5]=e("span",{class:"label"},"成交转化",-1)),e("span",K,u(c(T)(t.fields["点击成交转化率(次数)"])),1)])])]),_:2},1032,["desc","title","onClick"]))),128))]))])])}}},Y=R(O,[["__scopeId","data-v-f8539001"]]);export{Y as default};
